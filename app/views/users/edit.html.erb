<%= provide(:title, 'Edit User') %>

<div class="bg-light mt-5 rounded">
    <div class="form-group p-5">
        <h3>Update Your Profile</h3>
        <%= form_for @user, multipart: true do |f| %>
        
            <!--エラーメッセージの表示場所-->
            <%= render 'shared/error_messages' %>

            <%= f.label :name, "User Name" %>
            <%= f.text_field :name, class: 'form-control mb-2' %>
            
            <%= f.label :email, "Email" %>
            <%= f.email_field :email, class: 'form-control mb-2' %>
            
            <%= f.label :univ_name, "University Name" %>
            <%= f.text_field :univ_name, class: 'form-control mb-2' %>
            
            <%= f.label :password, "Your Password"  %>
            <%= f.password_field :password, class: 'form-control mb-2' %>
            
            <%= f.label :password_confirmation, "Password Confirmation"  %>
            <%= f.password_field :password_confirmation, class: 'form-control mb-2' %>
            
            <%= f.file_field :image_url, accept: 'image/jpeg, image/gif, image/png'  %>
            

            <%= f.submit "Update my Account", class: "btn btn-primary mt-4" %>
        <% end %>
    </div>
</div>

<script type="text/javascript">
    $(#user_image_url).bind('change', function() {
        var size_in_megabytes = this.files[0].size/1024/1024;
        if (size_in_megabytes > 5) {
            alert('Maximum file size is 5MB. Please choose a smaller file');
        }
    });
</script>